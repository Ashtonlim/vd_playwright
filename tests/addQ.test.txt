
const { chromium } = require('playwright');
describe("Testing", () => {
  test("login to vd",async () => {
    // const browser = await chromium.launch({
    //   headless: false
    // });
    const browser = await chromium.launch({ headless: false, slowMo: 100 });
    const context = await browser.newContext();
    // Open new page
    const page = await context.newPage();
    // Go to https://hub-staging.vaultdragon.com/login
    await page.goto('https://hub-staging.vaultdragon.com/login');
    // Go to https://hub-staging.vaultdragon.com/login?unauthorized=api-call
    await page.goto('https://hub-staging.vaultdragon.com/login?unauthorized=api-call');
    // Click [placeholder="Organization code"]
    await page.click('[placeholder="Organization code"]');
    // Fill [placeholder="Organization code"]
    await page.fill('[placeholder="Organization code"]', 'uilicious');
    // Press Tab
    await page.press('[placeholder="Organization code"]', 'Tab');
    // Fill [placeholder="Email address"]
    await page.fill('[placeholder="Email address"]', 'vaultdragon.com');
    // Press Home
    await page.press('[placeholder="Email address"]', 'Home');
    // Fill [placeholder="Email address"]
    await page.fill('[placeholder="Email address"]', 'support@vaultdragon.com');
    // Press Tab
    await page.press('[placeholder="Email address"]', 'Tab');
    // Fill [placeholder="Password"]
    await page.fill('[placeholder="Password"]', 'vd_0802!');
    // Press Home with modifiers
    await page.press('[placeholder="Password"]', 'Shift+Home');
    // Fill [placeholder="Password"]
    await page.fill('[placeholder="Password"]', 'vd_0802!');
    // Press Enter
    await Promise.all([
      page.waitForNavigation(/*{ url: 'https://hub-staging.vaultdragon.com/' }*/),
      page.press('[placeholder="Password"]', 'Enter')
    ]);
    // Click text=Queue
    await Promise.all([
      page.waitForNavigation(/*{ url: 'https://hub-staging.vaultdragon.com/queue/list' }*/),
      page.click('text=Queue')
    ]);
    // Click [placeholder="Search by Patient's Name, NRIC, ID, Mobile Number"]
    await page.click('[placeholder="Search by Patient\'s Name, NRIC, ID, Mobile Number"]');
    // Fill [placeholder="Search by Patient's Name, NRIC, ID, Mobile Number"]
    await page.fill('[placeholder="Search by Patient\'s Name, NRIC, ID, Mobile Number"]', 'maurice');
    // Click text=Maurice Hamilton: ETZ8DAZOJV (1) Tel: +6596080926
    await page.click('text=Maurice Hamilton: ETZ8DAZOJV (1) Tel: +6596080926');
    // Click text=Maurice Hamilton -
    await Promise.all([
      page.waitForNavigation(/*{ url: 'https://hub-staging.vaultdragon.com/patient/detail/608bd53d37feb000126fba10' }*/),
      page.click('text=Maurice Hamilton -')
    ]);
    // Click text=Add
    await page.click('text=Add');
    // Click input[type="number"]
    await page.click('input[type="number"]');
    // Fill input[type="number"]
    await page.fill('input[type="number"]', '5');
    // Fill text=Weight kg >> input[type="number"]
    await page.fill('text=Weight kg >> input[type="number"]', '5');
    // Press Tab
    await page.press('input[type="number"]', 'Tab');
    // Fill text=LMP date >> input[type="text"]
    await page.fill('text=LMP date >> input[type="text"]', '2021-05-05');
    // Press Enter
    await page.press('text=LMP date >> input[type="text"]', 'Enter');
    // Click text=Waist Circumference inch >> input[type="text"]
    await page.click('text=Waist Circumference inch >> input[type="text"]');
    // Fill text=Waist Circumference inch >> input[type="text"]
    await page.fill('text=Waist Circumference inch >> input[type="text"]', '5');
    // Fill text=Pulse bpm >> input[type="text"]
    await page.fill('text=Pulse bpm >> input[type="text"]', '5');
    // Press Tab
    await page.press('text=Waist Circumference inch >> input[type="text"]', 'Tab');
    // Fill text=Systolic mmHg >> input[type="text"]
    await page.fill('text=Systolic mmHg >> input[type="text"]', '5');
    // Press Tab
    await page.press('text=Pulse bpm >> input[type="text"]', 'Tab');
    // Fill text=Diastolic mmHg >> input[type="text"]
    await page.fill('text=Diastolic mmHg >> input[type="text"]', '5');
    // Press Tab
    await page.press('text=Systolic mmHg >> input[type="text"]', 'Tab');
    // Click text=Queue
    await page.click('text=Queue');
    // assert.equal(page.url(), 'https://hub-staging.vaultdragon.com/queue/list');
    // Check input[name="chk0"]
    await page.check('input[name="chk0"]');
    // Click text=Delete
    await page.click('text=Delete');
    // Click [placeholder="1"]
    await page.click('[placeholder="1"]');
    // Fill [placeholder="1"]
    await page.fill('[placeholder="1"]', '1');
    // Click text=Ok
    await page.click('text=Ok');
    // ---------------------
    await context.close();
    await browser.close();
  } )
})
