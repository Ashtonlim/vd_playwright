
> vaultdragone2e@1.0.0 test /home/runner/work/vd_playwright/vd_playwright
> npm-run-all -s -c test:prod1 test:prod2 test:prod3 test:prod4 test:prod5 test:prod6 test:prod7 test:prod8


> vaultdragone2e@1.0.0 test:prod1 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod1 --config=tests/prod1/jest.config.js

PASS browser: chromium tests/prod1/toggleQCols.test.js (12.906 s)
FAIL browser: chromium tests/prod1/transferPoints.test.js (48.578 s)
  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "a[role="tab"]:has-text("CREDIT")"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      56 |         await page.click('text=Steve Marsh')
      57 |
    > 58 |         await page.click('a[role="tab"]:has-text("CREDIT")')
         |                    ^
      59 |         await page.click('[placeholder="Search Table"]')
      60 |         await page.fill('[placeholder="Search Table"]', `maurice trf x to steve ${r}`)
      61 |         await page.isVisible(`text=maurice trf x to steve ${r}`)

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (transferPoints.test.js:58:20)

PASS browser: chromium tests/prod1/qHistory.test.js (19.669 s)
PASS browser: chromium tests/prod1/changeLang.test.js (10.766 s)

Test Suites: 1 failed, 3 passed, 4 total
Tests:       1 failed, 3 passed, 4 total
Snapshots:   0 total
Time:        92.588 s
Ran all test suites matching /.\/tests\/prod1/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod1.html
npm ERR! code ELIFECYCLE

npm ERR! errno 1
> vaultdragone2e@1.0.0 test:prod2 /home/runner/work/vd_playwright/vd_playwright
npm ERR! vaultdragone2e@1.0.0 test:prod1: `jest ./tests/prod1 --config=tests/prod1/jest.config.js`
> jest ./tests/prod2 --config=tests/prod2/jest.config.js
npm ERR! Exit status 1

npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod1 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_35_10_343Z-debug.log
PASS browser: chromium tests/prod2/addPricingScheme.test.js (19.459 s)
PASS browser: chromium tests/prod2/transferCredits.test.js (27.031 s)
FAIL browser: chromium tests/prod2/createPatient.test.js (38.522 s)
  ‚óè Patient workflow ‚Ä∫ Create and delete a patient

    TimeoutError: page.waitForNavigation: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      at _rejectOn.promise.then (../../node_modules/playwright/lib/client/waiter.js:49:51)

Test Suites: 1 failed, 2 passed, 3 total
Tests:       1 failed, 2 passed, 3 total
Snapshots:   0 total
Time:        85.44 s
Ran all test suites matching /.\/tests\/prod2/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod2.html
Jest did not exit one second after the test run has completed.

This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! vaultdragone2e@1.0.0 test:prod2: `jest ./tests/prod2 --config=tests/prod2/jest.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod2 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_36_39_175Z-debug.log

> vaultdragone2e@1.0.0 test:prod3 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod3 --config=tests/prod3/jest.config.js

FAIL browser: chromium tests/prod3/consultNotes.test.js (78.479 s)
  ‚óè removes data ‚Ä∫ clear queue in queue list

    TimeoutError: page.waitForNavigation: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      at _rejectOn.promise.then (../../node_modules/playwright/lib/client/waiter.js:49:51)

  ‚óè removes data ‚Ä∫ add mc and ref

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "text=QwaseeDee: s12345 (22) Tel: +6512341234"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      163 |             await page.click('[placeholder="Search by Patient\'s Name, NRIC, ID, Mobile Number"]')
      164 |             await page.fill('[placeholder="Search by Patient\'s Name, NRIC, ID, Mobile Number"]', 'Qwasee')
    > 165 |             await page.click(`text=${pName}: ${nric} (${id}) Tel: +65${num}`)
          |                        ^
      166 |         }
      167 |
      168 |         await Promise.all([

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (consultNotes.test.js:165:24)

FAIL browser: chromium tests/prod3/printAllInvTemplates.test.js (51.82 s)
  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "[placeholder="Search inventory items"]"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      33 |         await page.isVisible('text=Invoice Created')
      34 |
    > 35 |         await page.click('[placeholder="Search inventory items"]')
         |                    ^
      36 |         await page.fill('[placeholder="Search inventory items"]', 'meds1')
      37 |         await page.click('a:has-text("MedicineM1meds1")')
      38 |

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (printAllInvTemplates.test.js:35:20)

PASS browser: chromium tests/prod3/transferPkg.test.js (24.721 s)

Test Suites: 2 failed, 1 passed, 3 total
Tests:       3 failed, 1 passed, 4 total
Snapshots:   0 total
Time:        155.452 s
Ran all test suites matching /.\/tests\/prod3/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod3.html
npm ERR! code ELIFECYCLE

npm ERR! errno 1
npm ERR! vaultdragone2e@1.0.0 test:prod3: `jest ./tests/prod3 --config=tests/prod3/jest.config.js`
> vaultdragone2e@1.0.0 test:prod4 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod4 --config=tests/prod4/jest.config.js

npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod3 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_39_15_666Z-debug.log
PASS browser: chromium tests/prod4/membershipAndTrf.test.js (79.166 s)
FAIL browser: chromium tests/prod4/invAutoEmail.test.js (49.665 s)
  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "[placeholder="Search inventory items"]"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      53 |     await page.click('text=Create Invoice')
      54 |     await page.isVisible('text=Invoice Created')
    > 55 |     await page.click('[placeholder="Search inventory items"]')
         |                ^
      56 |     await page.fill('[placeholder="Search inventory items"]', 'meds1')
      57 |     await page.click('a:has-text("MedicineM1meds1")')
      58 |     await page.click('.btn-group button:nth-child(3)')

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (invAutoEmail.test.js:55:16)

PASS browser: chromium tests/prod4/buyAPkg.test.js (55.345 s)
  ‚óè Console

    console.log
      2r25bsv4umm

      at Object.it (buyAPkg.test.js:44:13)

    console.log
      Dialog message: No treatment end time recorded, are you sure you want to proceed?

      at Page.page.once.dialog (buyAPkg.test.js:83:15)


Test Suites: 1 failed, 2 passed, 3 total
Tests:       1 failed, 2 passed, 3 total
Snapshots:   0 total
Time:        184.624 s
Ran all test suites matching /.\/tests\/prod4/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod4.html
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! vaultdragone2e@1.0.0 test:prod4: `jest ./tests/prod4 --config=tests/prod4/jest.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod4 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_42_21_262Z-debug.log

> vaultdragone2e@1.0.0 test:prod5 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod5 --config=tests/prod5/jest.config.js

FAIL browser: chromium tests/prod5/selfRegCancel.test.js (53.307 s)
  ‚óè Console

    console.log
      true

      at Object.it (selfRegCancel.test.js:39:13)

    console.log
      false

      at Object.it (selfRegCancel.test.js:88:13)

  ‚óè removes data ‚Ä∫ clear queue in queue list

    TimeoutError: page.waitForNavigation: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      at _rejectOn.promise.then (../../node_modules/playwright/lib/client/waiter.js:49:51)

FAIL browser: chromium tests/prod5/pharmacy.test.js (39.438 s)
  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.selectOption: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "css=.btn-toolbar > div > select:nth-child(3)"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      37 |         // await page.selectOption('text=-- All Services --Service 1-- All Providers --Doctor OneTherapist One-- All Stat >> select', '')
      38 |
    > 39 |         await page.selectOption('css=.btn-toolbar > div > select:nth-child(3)', { label: 'Confirmed' })
         |                    ^
      40 |         // await page.waitForTimeout(10000)
      41 |
      42 |         await page.selectOption('css=td:nth-child(6) > select', 'Executed')

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:366:35)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.selectOption (../../node_modules/playwright/lib/client/frame.js:365:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:505:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.selectOption (../../node_modules/playwright/lib/client/page.js:505:21)
      at Object.it (pharmacy.test.js:39:20)

PASS browser: chromium tests/prod5/addProfilePic.test.js (30.694 s)
  ‚óè Console

    console.log
      hee

      at Object.it (addProfilePic.test.js:41:13)


Test Suites: 2 failed, 1 passed, 3 total
Tests:       2 failed, 1 passed, 3 total
Snapshots:   0 total
Time:        123.917 s
Ran all test suites matching /.\/tests\/prod5/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod5.html
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! vaultdragone2e@1.0.0 test:prod5: `jest ./tests/prod5 --config=tests/prod5/jest.config.js`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod5 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_44_26_140Z-debug.log

> vaultdragone2e@1.0.0 test:prod6 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod6 --config=tests/prod6/jest.config.js --passWithNoTests

FAIL browser: chromium tests/prod6/selfReg.test.js (58.405 s)
  ‚óè Console

    console.log
      true

      at Object.it (selfReg.test.js:40:13)

    console.log
      false

      at Object.it (selfReg.test.js:84:13)

  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.getAttribute: Timeout 30000ms exceeded.
    =========================== logs ===========================
      retrieving attribute "href" from "css=.zmPCnt > div > div > a"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      135 |     await page1.waitForTimeout(1000)
      136 |
    > 137 |     const regLink = await page1.getAttribute('css=.zmPCnt > div > div > a', 'href')
          |                                 ^
      138 |     console.log(regLink)
      139 |     await page1.close()
      140 |

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:325:42)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.getAttribute (../../node_modules/playwright/lib/client/frame.js:324:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:481:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.getAttribute (../../node_modules/playwright/lib/client/page.js:481:21)
      at Object.it (selfReg.test.js:137:33)

FAIL browser: chromium tests/prod6/bookAppointment.test.js (45.42 s)
  ‚óè Console

    console.log
      Random String is: bjeemw3rwwi

      at Object.it (bookAppointment.test.js:41:17)

  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "text=EmailEmail Templates Template 1 Send Email >> textarea"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      43 |         await page.fill('textarea', `this is appt details test ${r}`)
      44 |
    > 45 |         await page.click('text=EmailEmail Templates Template 1 Send Email >> textarea')
         |                    ^
      46 |         await page.fill('text=EmailEmail Templates Template 1 Send Email >> textarea', 'this is a send email test')
      47 |         await page.click('text=Send Email')
      48 |         await page.isVisible('text=Email sent')

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (bookAppointment.test.js:45:20)

PASS browser: chromium tests/prod6/payInvWCredit.test.js (52.037 s)

Test Suites: 2 failed, 1 passed, 3 total
Tests:       2 failed, 1 passed, 3 total
Snapshots:   0 total
Time:        156.332 s
Ran all test suites matching /.\/tests\/prod6/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod6.html
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! vaultdragone2e@1.0.0 test:prod6: `jest ./tests/prod6 --config=tests/prod6/jest.config.js --passWithNoTests`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod6 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_47_03_437Z-debug.log

> vaultdragone2e@1.0.0 test:prod7 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod7 --config=tests/prod7/jest.config.js --passWithNoTests

No tests found, exiting with code 0
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod7.html

> vaultdragone2e@1.0.0 test:prod8 /home/runner/work/vd_playwright/vd_playwright
> jest ./tests/prod8 --config=tests/prod8/jest.config.js --runInBand

FAIL browser: chromium tests/prod8/scheduler.test.js (82.701 s)
  ‚óè able to set template schedules ‚Ä∫ scheduler 1

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "text=Select option Service 1 No elements found. Consider changing the search query. L >> :nth-match(div, 2)"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      175 |     await page.selectOption('text=Provider:Please select a providerDoctor One >> select', '60924291252b8800127aaeff')
      176 |     await page.selectOption('text=Therapist:Please select a therapistTherapist One >> select', '609242a8252b8800127aaf01')
    > 177 |     await page.click('text=Select option Service 1 No elements found. Consider changing the search query. L >> :nth-match(div, 2)')
          |                ^
      178 |     await page.click('span:has-text("Service 1")')
      179 |     await page.waitForTimeout(1000)
      180 |     await Promise.all([page.waitForNavigation(/*{ url: 'https://hub-staging.vaultdragon.com/appointment/list' }*/), page.click('text=Save')])

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (scheduler.test.js:177:16)

FAIL browser: chromium tests/prod8/paypal1_2.test.js (99.504 s)
  ‚óè Console

    console.log
      true

      at Object.it (paypal1_2.test.js:40:13)

    console.log
      false

      at Object.it (paypal1_2.test.js:89:13)

    console.log
      https://hub-api-staging.vaultdragon.com/appointment/appt-confirm/60c83713304c4f001913b9c3/0812596161674326/?clinicCode=uilicious&pay=true

      at Object.it (paypal1_2.test.js:143:13)

  ‚óè removes data ‚Ä∫ clear queue in queue list

    page.fill: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "[placeholder="Date of Birth"]"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      147 |     await page3.goto(`${regLink}`)
      148 |
    > 149 |     await page3.fill('[placeholder="Date of Birth"]', '2021-05-11')
          |                 ^
      150 |     await page3.click('textarea[name="address"]')
      151 |     await page3.fill('textarea[name="address"]', 'test addr')
      152 |

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:299:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.fill (../../node_modules/playwright/lib/client/frame.js:298:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:466:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.fill (../../node_modules/playwright/lib/client/page.js:466:21)
      at Object.it (paypal1_2.test.js:149:17)

PASS browser: chromium tests/prod8/charting.test.js (131.321 s)
  ‚óè Console

    console.log
      0

      at Object.it (charting.test.js:68:13)

    console.log
      true

      at Object.it (charting.test.js:144:15)

    console.log
      true

      at Object.it (charting.test.js:144:15)

    console.log
      true

      at Object.it (charting.test.js:144:15)

    console.log
      false

      at Object.it (charting.test.js:157:13)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

    console.log
      true

      at Object.it (charting.test.js:240:15)

FAIL browser: chromium tests/prod8/paypal3.test.js (46.857 s)
  ‚óè Console

    console.log
      false

      at Object.it (paypal3.test.js:40:13)

    console.log
      false

      at Object.it (paypal3.test.js:89:13)

  ‚óè removes data ‚Ä∫ clear queue in queue list

    TimeoutError: page.waitForNavigation: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for navigation until "load"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      at _rejectOn.promise.then (../../node_modules/playwright/lib/client/waiter.js:49:51)

FAIL browser: chromium tests/prod8/newInvAndVoid.test.js (159.636 s)
  ‚óè Console

    console.log
      [ '357', '358', '359' ]

      at Object.it (newInvAndVoid.test.js:149:17)

  ‚óè patient invoice ‚Ä∫ create and void an invoice and payment + use credit/debit to refund

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector "button:has-text("Payment")"
      selector resolved to hidden <button type="button" class="btn my-3 mr-1 btn-outline-p‚Ä¶>‚Üµ              Payment‚Üµ          </button>
    attempting click action
      waiting for element to be visible, enabled and stable
        element is not visible - waiting...
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      13 |   await page.fill('[placeholder="Search inventory items"]', `${invItem}`)
      14 |   await page.click(`text=${invItem}`)
    > 15 |   await page.click('button:has-text("Payment")')
         |              ^
      16 | }
      17 |

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.<anonymous>.module.exports.createInvoice (../../steps/forms/createInvoice.js:15:14)

  ‚óè patient invoice ‚Ä∫ should check invoice

    TimeoutError: page.waitForEvent: Timeout while waiting for event "popup"
    =========================== logs ===========================
    waiting for event "popup"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      at _rejectOn.promise.then (../../node_modules/playwright/lib/client/waiter.js:49:51)

FAIL browser: chromium tests/prod8/searchAndAdd.test.js (57.452 s)
  ‚óè user creations ‚Ä∫ add and delete patient user

    page.click: Timeout 30000ms exceeded.
    =========================== logs ===========================
    waiting for selector ":nth-match(button:has-text("Call"), 3)"
    ============================================================
    Note: use DEBUG=pw:api environment variable to capture Playwright logs.

      81 |         await page.click('text=Queue')
      82 |
    > 83 |         await page.click(':nth-match(button:has-text("Call"), 3)')
         |                    ^
      84 |
      85 |         const [page1] = await Promise.all([page.waitForEvent('popup'), page.click('button:has-text("Dashboard")')])
      86 |         await page1.isVisible('text=10003')

      at Object.captureStackTrace (../../node_modules/playwright/lib/utils/stackTrace.js:50:19)
      at Connection.sendMessageToServer (../../node_modules/playwright/lib/client/connection.js:65:48)
      at Proxy.<anonymous> (../../node_modules/playwright/lib/client/channelOwner.js:64:61)
      at _wrapApiCall (../../node_modules/playwright/lib/client/frame.js:284:34)
      at Frame._wrapApiCall (../../node_modules/playwright/lib/client/channelOwner.js:77:34)
      at Frame.click (../../node_modules/playwright/lib/client/frame.js:283:21)
      at _attributeToPage (../../node_modules/playwright/lib/client/page.js:457:60)
      at Page._attributeToPage (../../node_modules/playwright/lib/client/page.js:238:20)
      at Page.click (../../node_modules/playwright/lib/client/page.js:457:21)
      at Object.it (searchAndAdd.test.js:83:20)

Test Suites: 5 failed, 1 passed, 6 total
Tests:       6 failed, 3 passed, 9 total
Snapshots:   0 total
Time:        577.977 s
Ran all test suites matching /.\/tests\/prod8/i.
üì¶ reporter is created on: /home/runner/work/vd_playwright/vd_playwright/report/prod8.html
Jest did not exit one second after the test run has completed.

This usually means that there are asynchronous operations that weren't stopped in your tests. Consider running Jest with `--detectOpenHandles` to troubleshoot this issue.
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! vaultdragone2e@1.0.0 test:prod8: `jest ./tests/prod8 --config=tests/prod8/jest.config.js --runInBand`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the vaultdragone2e@1.0.0 test:prod8 script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     /home/runner/.npm/_logs/2021-06-16T08_56_45_562Z-debug.log
ERROR: "test:prod8" exited with 1.
npm ERR! Test failed.  See above for more details.
Error: Process completed with exit code 1.